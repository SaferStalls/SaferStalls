<!DOCTYPE html>

<html lang="en">

<!-- Head -->
<head>
	
	<meta charset="utf-8" />
	
	<title>SaferStalls</title>
	
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="title" content="" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	
	<meta property="og:url" content=""/>
	<meta property="og:title" content=""/> 
	<meta property="og:type" content="website"/> 
	<meta property="og:image" content=""/> 
	<meta property="og:site_name" content=""/> 
	<meta property="og:description" content=""/>
	<meta name="viewport" content="initial-scale=1,minimum-scale=1,width=device-width">
    
    <!-- Javascript -->
    <script type="text/javascript" src="/js/jquery-1.8.3.min.js"></script>
    
    <!-- Stylesheets -->
    <link href='http://fonts.googleapis.com/css?family=Raleway:500,900,200' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="css/index.css" type="text/css" media="screen" />

		<!--[if lt IE 9]>
			<script type="text/javascript" src="/js/html5shiv.js"></script>
			<script type="text/javascript" src="/js/selectivizr.js"></script>
			<script type="text/javascript" src="/js/respond.js"></script>
		<![endif]-->

</head> <!-- /head -->

<!-- Body -->
<body>

	<!-- Nav Bar -->
	<nav>
		<div class="center">
			<ul>
				<li>
					<a href='#' title="Show Grid" id="gridButton" onclick="return false;">Show Grid</a>
				</li>
				<li>
					<a href="/" id="logo"><img src="http://i.imgur.com/hZcmz9m.gif"></a>
				</li>
				<li>
					<a id="navAbout" title="" href=''>About Us</a>
					<a id="navFacebook" title="Share On Facebook" href=''>Share on Facebook</a>
					<a id="navTwitter" title="Share On Twitter" href=''>Share on Twitter</a>
				</li>
			</ul>
		</div>
	</nav>

	<!-- Filters -->
	<header>
		
		<nav>
			<div class="center">
				<ul>
					<li>

					</li>
				</ul>
				
			</div>
		</nav>

	</header>

	<!-- Map -->
	<container id="map_container">
		<div id="map_area">
			<div id="demoMap" style="height:400px"></div>
		</div>
	</container>

	<!-- Footer -->
	<footer>
		<div class="center">
			<section id="meta">
				<div>This website is entirely opensource and available on github    <a HREF="http://saferstalls.github.io/SaferStalls/map.html"> View and search our map </a><br>
</div>
			</section>
		</div>
	</footer>

	<!-- Scripts -->

		<script type="text/javascript">

			// TOGGLE GRID
			$('#gridButton').click(function(){
				if($('#grid').length == 0) {
					var height = $('body').height();
					var html = '<article id="grid"><div class="overlay"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></article>';
					$('body').prepend(html);
					$('#grid div').css('height', height);
				}else{
					$('#grid').remove();
				}
			});

			$(window).resize(function() {
				if($('#grid').length > 0) {
					var height = $('body').height();
					$('#grid div').css('height', height);
				}
			});

			// CHANGE GRID OVERLAY BEHAVIOUR FOR BROWSERS
			// THAT DONT SUPPORT "pointer-events: none;" CSS
			if ($.browser.msie || $.browser.opera) {
			  $('#grid').live('click', function(){
			  	$('#grid').remove();
			  });
			}

			// TOOLTIP
			var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent);
			$('nav a').hover(function(){
				if (isMobile == false){
					var pos = $(this).offset();
	                var title = $(this).attr('title');
	                if ($.trim(title) == ''){
	                	return;
	                }
	                $(this).data('tipText', title).removeAttr('title');
	                if($('.tooltip').length == 0) {
	                	var html = '<p class="tooltip"></p>';
	                	$('body').append(html);
	                }
	                $('.tooltip').html('<div class="arrow"></div><div>'+title+'</div>');
	                $('.tooltip').css('top', pos.top+55).css('left', pos.left+25);
	                var width = $('.tooltip').outerWidth();
	                $('.tooltip').css('margin-left', 0-width*0.5);
	                $('.tooltip').addClass('show');
				}
	        }, function() {
	        	if (isMobile == false){
	            	$('.tooltip').removeClass('show');
	            	$(this).attr('title', $(this).data('tipText'));
	            }
	        });

			
		</script>
		
		<script type="text/javascript">

		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-9052680-6']);
		  _gaq.push(['_trackPageview']);

		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();

		</script>
		
		<script>

			// Map
	    	var map = new OpenLayers.Map("demoMap");
		    map.addLayer(new OpenLayers.Layer.OSM());
		    epsg4326 =  new OpenLayers.Projection("EPSG:4326"); 
		    projectTo = map.getProjectionObject();
		    var lonLat = new OpenLayers.LonLat( -122.435189 ,37.7357156666667 ).transform(epsg4326, projectTo);
		    var zoom=10;
		    map.setCenter (lonLat, zoom);
			</script>
			<script>
		    //Creates overlay layer of markers
		    var vectorLayer = new OpenLayers.Layer.Vector("Overlay");
		    var markers = new OpenLayers.Layer.Markers("Markers");
		    map.addLayer(markers);

		    var longLatsOuter = new Array();
		    var outerCount = 0;
		    jQuery.getJSON("safepee.json", function(json){
		        jQuery.each(json,function(i,item){
		            longLatsOuter[outerCount] = [json[i].lon,json[i].lat,json[i].access,json[i].type];
		            outerCount++;
		        });
		        var size = new OpenLayers.Size(21,25);
		        var offset = new OpenLayers.Pixel(-(size.w/2), -size.h);
		        var icon = new OpenLayers.Icon('http://www.openlayers.org/dev/img/marker.png', size, offset);
		        for (var j= 0;j<outerCount;j++){
		            var lon = longLatsOuter[j][0];
		            var lat = longLatsOuter[j][1];
		            var access = longLatsOuter[j][2];
		            var feature = new OpenLayers.Feature.Vector(
		                new OpenLayers.Geometry.Point(lon, lat).transform(epsg4326, projectTo),
		                {description:'This is the value of<br>the description attribute'} ,
		                {externalGraphic: 'marker.png', graphicHeight: 37.5, graphicWidth:31.5, graphicXOffset:-12, graphicYOffset:-25  }
		             );
		             vectorLayer.addFeatures(feature);
		         }
		        OpenLayers.Control.Click = OpenLayers.Class(OpenLayers.Control, {                
		            defaultHandlerOptions: {
		                'single': true,
		                'double': false,
		                'pixelTolerance': 0,
		                'stopSingle': false,
		                'stopDouble': false
		            },

		            initialize: function(options) {
		                this.handlerOptions = OpenLayers.Util.extend(
		                    {}, this.defaultHandlerOptions
		                );
		                OpenLayers.Control.prototype.initialize.apply(
		                    this, arguments
		                ); 
		                this.handler = new OpenLayers.Handler.Click(
		                    this, {
		                        'click': this.trigger
		                    }, this.handlerOptions
		                );
		            }, 

		            trigger: function(e) {
		                var lonlat = map.getLonLatFromViewPortPx(e.xy);
		                
		               // alert("You clicked near " + lonlat.lat + " N, " +
		               //                           + lonlat.lon + " E");
		            }

		        });
		        map.addLayer(vectorLayer);
		        var click = new OpenLayers.Control.Click();
		        map.addControl(click);
		        click.activate();
		    });
		</script>

</body> <!-- /body -->

<<<<<<< HEAD
</html> 
=======
<<<<<<< HEAD
</html>
>>>>>>> 1ec7bd164c777275cadaffd4b5a3a3f20e67ec19
